function classtweak(a,b,c){function f(b){for(var c=a.length;c--;){var g=a[c],h=g.className?g.className.split(/\s+/).sort():[],i;typeof b=="string"&&(b=b.split(d));for(i=b.length;i--;){var j=b[i],k=j.slice(0,1),l=j.slice(-1),m=j.slice(1),n=e[k],o=k=="."||l==".",p,q=-1;n||(o?(n=e[k=="."&&l=="."?"!":k=="."?"+":"-"],m=j.slice(k=="."?1:0,l=="."?-1:undefined)):(n=e["+"],m=b[i]));for(p=h.length;q<0&&p--;)h[p]===m&&(q=p);n(h,m,q)}g.className=h.join(" ")}return f}var d=/[\s\,]+/,e={"+":function(a,b,c){c<0&&(a[a.length]=b)},"-":function(a,b,c){c>=0&&a.splice(c,1)},"!":function(a,b,c){e[c<0?"+":"-"](a,b,c)}};return typeof a=="string"||a instanceof String?a=(c||document).querySelectorAll(a):Array.isArray(a)||(a=[a]),b&&f(b),b?classtweak:f};